<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/xhtml;charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="IE=11" http-equiv="X-UA-Compatible"/>
    <meta content="Doxygen 1.9.8" name="generator"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <title>MOSAIC RTC Core: src/core/peer_connection_manager.cpp Source File</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script src="jquery.js" type="text/javascript"></script>
    <script src="dynsections.js" type="text/javascript"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-darkmode-toggle.js" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-paragraph-link.js" rel="stylesheet" type="text/css"/>
    <script src="doxygen-awesome-darkmode-toggle.js" type="text/javascript"></script>
    <script src="doxygen-awesome-paragraph-link.js" type="text/javascript"></script>
    <script type="text/javascript">
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeParagraphLink.init()
    </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellpadding="0" cellspacing="0">
                <tbody>
                <tr id="projectrow">
                    <td id="projectalign">
                        <div id="projectname">MOSAIC RTC Core<span id="projectnumber">&#160;1.0.0</span>
                        </div>
                        <div id="projectbrief">A C++ library for WebRTC-based real-time robot control and monitoring</div>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('peer__connection__manager_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">peer_connection_manager.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="peer__connection__manager_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">//</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">// Created by yhkim on 25. 7. 2.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">//</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;api/audio_codecs/builtin_audio_decoder_factory.h&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="preprocessor">#include &lt;api/audio_codecs/builtin_audio_encoder_factory.h&gt;</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="preprocessor">#include &lt;api/create_peerconnection_factory.h&gt;</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="preprocessor">#include &lt;api/task_queue/default_task_queue_factory.h&gt;</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="preprocessor">#include &lt;api/video_codecs/video_decoder_factory_template.h&gt;</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &lt;api/video_codecs/video_decoder_factory_template_dav1d_adapter.h&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;api/video_codecs/video_decoder_factory_template_libvpx_vp8_adapter.h&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;api/video_codecs/video_decoder_factory_template_libvpx_vp9_adapter.h&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;api/video_codecs/video_decoder_factory_template_open_h264_adapter.h&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;api/video_codecs/video_encoder_factory_template.h&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#include &lt;api/video_codecs/video_encoder_factory_template_libaom_av1_adapter.h&gt;</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &lt;api/video_codecs/video_encoder_factory_template_libvpx_vp8_adapter.h&gt;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &lt;api/video_codecs/video_encoder_factory_template_libvpx_vp9_adapter.h&gt;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;api/video_codecs/video_encoder_factory_template_open_h264_adapter.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &lt;<a class="code" href="configs__decl_8h.html">mosaic/configs_decl.h</a>&gt;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &lt;<a class="code" href="connector__state__manager_8h.html">mosaic/core/connector_state_manager.h</a>&gt;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;<a class="code" href="peer__connection__manager_8h.html">mosaic/core/peer_connection_manager.h</a>&gt;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="peer__connection__observer_8h.html">mosaic/core/peer_connection_observer.h</a>&gt;</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="preprocessor">#include &lt;<a class="code" href="log_8h.html">mosaic/logger/log.h</a>&gt;</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#include &lt;<a class="code" href="i__signaling__client_8h.html">mosaic/signaling/i_signaling_client.h</a>&gt;</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacemosaic_1_1core.html">mosaic::core</a> {</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span> </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>webrtc::PeerConnectionInterface::IceServer <a class="code hl_function" href="namespacemosaic_1_1core.html#a8ef1c9cab0bca6a35a39fc5114cb98d3">GetIceServer</a>(<span class="keyword">const</span> IceServerConfig&amp; ice_config);</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="foldopen" id="foldopen00030" data-start="{" data-end="};">
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html">   30</a></span><span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html">CreateSdpAnswerObserver</a> : <span class="keyword">public</span> webrtc::CreateSessionDescriptionObserver {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>  <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00032" data-start="{" data-end="}">
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a6b4eef7969b1b4397b48f8f1f635fd0a">   32</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a6b4eef7969b1b4397b48f8f1f635fd0a">CreateSdpAnswerObserver</a>(<span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; pc_manager)</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>        : <a class="code hl_variable" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a54dfe7939caff7ca39dcedfae4590eca">pc_manager_</a>(pc_manager) {}</div>
</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="foldopen" id="foldopen00035" data-start="{" data-end="}">
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a7f01f4865cae5d0b46bd12873263d6e9">   35</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a7f01f4865cae5d0b46bd12873263d6e9">OnSuccess</a>(webrtc::SessionDescriptionInterface* desc)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a54dfe7939caff7ca39dcedfae4590eca">pc_manager_</a>-&gt;AfterCreateSdpAnswer(desc);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    }</div>
</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span> </div>
<div class="foldopen" id="foldopen00039" data-start="{" data-end="}">
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a78f9788ed42617beba844080bbd3ba26">   39</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a78f9788ed42617beba844080bbd3ba26">OnFailure</a>(webrtc::RTCError error)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to create SDP answer: {}&quot;</span>, error.message());</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    }</div>
</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span> </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a54dfe7939caff7ca39dcedfae4590eca">   44</a></span>    std::shared_ptr&lt;PeerConnectionManager&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a54dfe7939caff7ca39dcedfae4590eca">pc_manager_</a>;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>};</div>
</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="foldopen" id="foldopen00047" data-start="{" data-end="};">
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html">   47</a></span><span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html">SimpleSetLocalDescriptionObserver</a> : <span class="keyword">public</span> webrtc::SetSessionDescriptionObserver {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>  <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00049" data-start="{" data-end="}">
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a8ac4b5eae01e33f545bc857f478cf97e">   49</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a8ac4b5eae01e33f545bc857f478cf97e">SimpleSetLocalDescriptionObserver</a>(<span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; pc_manager,</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>                                               webrtc::SessionDescriptionInterface* desc)</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        : <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a26410e9e501afab0fcdb6c6c53bd5c13">pc_manager_</a>(pc_manager), <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">desc_</a>(desc) {}</div>
</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span> </div>
<div class="foldopen" id="foldopen00053" data-start="{" data-end="}">
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#aa8a53783b8c76f562b86146d6559cf67">   53</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#aa8a53783b8c76f562b86146d6559cf67">OnSuccess</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">desc_</a>) {</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;No session description set for local description observer.&quot;</span>);</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        }</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a26410e9e501afab0fcdb6c6c53bd5c13">pc_manager_</a>-&gt;AfterSetLocalDescription(<a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">desc_</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    }</div>
</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span> </div>
<div class="foldopen" id="foldopen00061" data-start="{" data-end="}">
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#ab7e8670ab0ae07065e4ddfc061d337bf">   61</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#ab7e8670ab0ae07065e4ddfc061d337bf">OnFailure</a>(webrtc::RTCError error)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to set local description: {}&quot;</span>, error.message());</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    }</div>
</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a26410e9e501afab0fcdb6c6c53bd5c13">   66</a></span>    std::shared_ptr&lt;PeerConnectionManager&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a26410e9e501afab0fcdb6c6c53bd5c13">pc_manager_</a>;</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">   67</a></span>    webrtc::SessionDescriptionInterface* <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">desc_</a>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>};</div>
</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="foldopen" id="foldopen00070" data-start="{" data-end="};">
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html">   70</a></span><span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html">SimpleSetRemoteDescriptionObserver</a> : <span class="keyword">public</span> webrtc::SetSessionDescriptionObserver {</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>  <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00072" data-start="{" data-end="}">
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a8ec0bf26bd5ca840ff511449613ee830">   72</a></span>    <span class="keyword">explicit</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a8ec0bf26bd5ca840ff511449613ee830">SimpleSetRemoteDescriptionObserver</a>(<span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; pc_manager)</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        : <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#aa72438d4e15d030c92bcff74afe4df07">pc_manager_</a>(pc_manager) {}</div>
</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span> </div>
<div class="foldopen" id="foldopen00075" data-start="{" data-end="}">
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#ac2f616220bf722c0ad9a850d1231e348">   75</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#ac2f616220bf722c0ad9a850d1231e348">OnSuccess</a>()<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <a class="code hl_define" href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a>(<span class="stringliteral">&quot;Set remote description with SDP offer Success&quot;</span>);</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#aa72438d4e15d030c92bcff74afe4df07">pc_manager_</a>-&gt;AfterSetSessionDescription();</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    }</div>
</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span> </div>
<div class="foldopen" id="foldopen00080" data-start="{" data-end="}">
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a986b8a078964a0c060cb135806181f70">   80</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a986b8a078964a0c060cb135806181f70">OnFailure</a>(<span class="keyword">const</span> webrtc::RTCError error)<span class="keyword"> override </span>{</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to set session description: {}&quot;</span>, error.message());</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    }</div>
</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#aa72438d4e15d030c92bcff74afe4df07">   85</a></span>    std::shared_ptr&lt;PeerConnectionManager&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#aa72438d4e15d030c92bcff74afe4df07">pc_manager_</a>;</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>};</div>
</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span> </div>
<div class="foldopen" id="foldopen00088" data-start="{" data-end="};">
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html">   88</a></span><span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html">PeerConnectionManager::Impl</a> {</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>  <span class="keyword">public</span>:</div>
<div class="foldopen" id="foldopen00090" data-start="{" data-end="}">
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a49e9a2f616bce7bbd98b0c21eee0560f">   90</a></span>    <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a49e9a2f616bce7bbd98b0c21eee0560f">Impl</a>(<span class="keyword">const</span> std::shared_ptr&lt;MosaicConnector&gt;&amp; client,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>         <span class="keyword">const</span> std::shared_ptr&lt;ConnectorStateManager&gt;&amp; state_manager,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>         <span class="keyword">const</span> std::shared_ptr&lt;ISignalingClient&gt;&amp; signaling_client,</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>         <span class="keyword">const</span> std::shared_ptr&lt;WebRtcConfig&gt;&amp; web_rtc_config)</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        : <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>(client),</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>          <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>(state_manager),</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>          <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>(signaling_client),</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>          <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae852a3b2540a1b264dcb3f5edcdc9190">web_rtc_config_</a>(web_rtc_config) {}</div>
</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="foldopen" id="foldopen00099" data-start="{" data-end="}">
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a3d2f8b70761591a5f3e3260390d8885c">   99</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a3d2f8b70761591a5f3e3260390d8885c">InitializeWebRTC</a>() {</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        <span class="comment">// Initialize WebRTC components, such as threads and factory.</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a> = rtc::Thread::CreateWithSocketServer();</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a> = rtc::Thread::Create();</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a> = rtc::Thread::Create();</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a>-&gt;Start();</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a>-&gt;Start();</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a>-&gt;Start();</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span> </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a88a21589f49c77ea7eb3752b8e0d74e5">task_queue_factory_</a> = webrtc::CreateDefaultTaskQueueFactory();</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        <span class="keyword">const</span> <span class="keyword">auto</span> dummy_adm =</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            webrtc::AudioDeviceModule::Create(webrtc::AudioDeviceModule::kDummyAudio, <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a88a21589f49c77ea7eb3752b8e0d74e5">task_queue_factory_</a>.get());</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="comment">// Set the threads for the PeerConnectionFactory.</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a> = webrtc::CreatePeerConnectionFactory(</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a>.get(),</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a>.get(),</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a>.get(),</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            dummy_adm,</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>            webrtc::CreateBuiltinAudioEncoderFactory(),</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            webrtc::CreateBuiltinAudioDecoderFactory(),</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            std::make_unique&lt;webrtc::VideoEncoderFactoryTemplate&lt;webrtc::LibvpxVp8EncoderTemplateAdapter,</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>                                                                 webrtc::LibvpxVp9EncoderTemplateAdapter,</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>                                                                 webrtc::OpenH264EncoderTemplateAdapter,</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>                                                                 webrtc::LibaomAv1EncoderTemplateAdapter&gt;&gt;(),</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            std::make_unique&lt;webrtc::VideoDecoderFactoryTemplate&lt;webrtc::LibvpxVp8DecoderTemplateAdapter,</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>                                                                 webrtc::LibvpxVp9DecoderTemplateAdapter,</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>                                                                 webrtc::OpenH264DecoderTemplateAdapter,</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                                                                 webrtc::Dav1dDecoderTemplateAdapter&gt;&gt;(),</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>            <span class="keyword">nullptr</span>,  <span class="comment">// audio_mixer</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            <span class="keyword">nullptr</span>   <span class="comment">// audio_processing</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        );</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span> </div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a>) {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to create PeerConnectionFactory&quot;</span>);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        }</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span> </div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a8c548143b4fb16ec78cefa0df6e3bad4">ConnectorStateManager::READY_TO_CONNECT</a>);</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;WebRTC Client initialized successfully&quot;</span>);</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    }</div>
</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="foldopen" id="foldopen00141" data-start="{" data-end="}">
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a298c1d0085f853453fc708702355bbcf">  141</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a298c1d0085f853453fc708702355bbcf">CreatePeerConnection</a>(<span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; outer_this_) {</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;RobotWebRTCClient::CreatePeerConnection()&quot;</span>);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        webrtc::PeerConnectionInterface::RTCConfiguration configuration;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        configuration.ice_connection_receiving_timeout = 30000;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ice_server : <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae852a3b2540a1b264dcb3f5edcdc9190">web_rtc_config_</a>-&gt;ice_servers) {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>            configuration.servers.push_back(<a class="code hl_function" href="namespacemosaic_1_1core.html#a8ef1c9cab0bca6a35a39fc5114cb98d3">GetIceServer</a>(ice_server));</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>        }</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span> </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>        <span class="comment">// Observer 생성</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">peer_connection_observer_</a> = std::make_shared&lt;PeerConnectionObserver&gt;(<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>, outer_this_);</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        <span class="comment">// PeerConnection 생성</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>        <span class="keyword">auto</span> c = <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a>-&gt;CreatePeerConnectionOrError(</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            configuration, webrtc::PeerConnectionDependencies(<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">peer_connection_observer_</a>.get()));</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>        <span class="keywordflow">if</span> (c.ok()) {</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a> = c.value();</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            <span class="comment">// Handle error</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to create PeerConnection: {}&quot;</span>, c.error().message());</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>            <span class="comment">// TODO</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>        }</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    }</div>
</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span> </div>
<div class="foldopen" id="foldopen00165" data-start="{" data-end="}">
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a527c51aa129ceb6c0c99f4408ad6bae1">  165</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a527c51aa129ceb6c0c99f4408ad6bae1">HandleSdpOffer</a>(webrtc::SessionDescriptionInterface* sdp_offer,</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>                        <span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; outer_this_) {</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Handle SDP offer&quot;</span>);</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="comment">// Close existing connection if exists</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a0496d51cab6173f380d94ef68a7fef5c">ClosePeerConnection</a>();</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;IsState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a8c548143b4fb16ec78cefa0df6e3bad4">ConnectorStateManager::READY_TO_CONNECT</a>)) {</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Cannot handle SDP offer in current state: {}&quot;</span>, <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;GetStateString());</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        }</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a0fbda9a0bbb9a00f4228d6d5ee96a647">ConnectorStateManager::RTC_CONNECTING</a>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <span class="comment">// Create a new PeerConnection</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8fae247a4937762817adf491f5e77525">CreatePeerConnection</a>(outer_this_);</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Peer Connection created successfully&quot;</span>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span> </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>) {</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Peer connection is null, cannot handle SDP offer&quot;</span>);</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a7db37735e0e96e7730eaeb1da9f9523f">ConnectorStateManager::RTC_FAILED</a>);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        }</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="comment">// Set remote description (SDP offer)</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        <span class="keyword">const</span> <span class="keyword">auto</span> set_remote_observer = webrtc::scoped_refptr&lt;SimpleSetRemoteDescriptionObserver&gt;(</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>            <span class="keyword">new</span> webrtc::RefCountedObject&lt;SimpleSetRemoteDescriptionObserver&gt;(outer_this_));</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span> </div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        <span class="comment">// Go to AfterSetSessionDescription after setting remote description</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;SetRemoteDescription(set_remote_observer.get(), sdp_offer);</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Set remote description with SDP offer&quot;</span>);</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    }</div>
</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span> </div>
<div class="foldopen" id="foldopen00198" data-start="{" data-end="}">
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a01838c16abd001da697d6810cfb15d37">  198</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a01838c16abd001da697d6810cfb15d37">AfterSetSessionDescription</a>(<span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; outer_this_)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        <span class="comment">// TODO: Need to delete</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>-&gt;CreateAllMediaTracks();</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="comment">// Create and set answer</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        <span class="keyword">const</span> <span class="keyword">auto</span> create_answer_observer = webrtc::scoped_refptr&lt;CreateSdpAnswerObserver&gt;(</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>            <span class="keyword">new</span> webrtc::RefCountedObject&lt;CreateSdpAnswerObserver&gt;(outer_this_));</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span> </div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="comment">// 생성된 응답을 시그널링 서버로 전송하는 부분은 create_answer_observer 에서 진행</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;CreateAnswer(create_answer_observer.get(),</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>                                       webrtc::PeerConnectionInterface::RTCOfferAnswerOptions());</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Created SDP answer observer and called CreateAnswer&quot;</span>);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    }</div>
</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="foldopen" id="foldopen00212" data-start="{" data-end="}">
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac7ecb4836ef7797ae785daf6e6073093">  212</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac7ecb4836ef7797ae785daf6e6073093">AfterCreateSdpAnswer</a>(webrtc::SessionDescriptionInterface* desc,</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>                              <span class="keyword">const</span> std::shared_ptr&lt;PeerConnectionManager&gt;&amp; outer_this_)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Sdp Answer Created&quot;</span>);</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>        <span class="comment">// Create observer for SetLocalDescription</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keyword">const</span> <span class="keyword">auto</span> set_local_observer = webrtc::scoped_refptr&lt;SimpleSetLocalDescriptionObserver&gt;(</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            <span class="keyword">new</span> webrtc::RefCountedObject&lt;SimpleSetLocalDescriptionObserver&gt;(outer_this_, desc));</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        <span class="comment">// Set local description</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;SetLocalDescription(set_local_observer.get(), desc);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    }</div>
</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="foldopen" id="foldopen00223" data-start="{" data-end="}">
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a9e151da391b0721ea21d790edf7d9d6b">  223</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a9e151da391b0721ea21d790edf7d9d6b">AfterSetLocalDescription</a>(<span class="keyword">const</span> webrtc::SessionDescriptionInterface* desc)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Set local description with SDP answer&quot;</span>);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>-&gt;SendSdpAnswer(desc);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    }</div>
</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span> </div>
<div class="foldopen" id="foldopen00228" data-start="{" data-end="}">
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af37677aa16c3caf6cb4eb3a2c19d746e">  228</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af37677aa16c3caf6cb4eb3a2c19d746e">HandleIceCandidateFromSignaling</a>(<span class="keyword">const</span> webrtc::IceCandidateInterface* candidate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>) {</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>            <span class="comment">// Convert raw pointer to unique_ptr</span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            std::unique_ptr&lt;webrtc::IceCandidateInterface&gt; candidate_unique_ptr(</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>                <span class="keyword">const_cast&lt;</span>webrtc::IceCandidateInterface*<span class="keyword">&gt;</span>(candidate));</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span> </div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>            <span class="comment">// Add ice candidate with callback for error handling</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;AddIceCandidate(std::move(candidate_unique_ptr), [](<span class="keyword">const</span> webrtc::RTCError&amp; error) {</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>                <span class="keywordflow">if</span> (!error.ok()) {</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>                    MOSAIC_LOG_ERROR(<span class="stringliteral">&quot;Failed to add ICE candidate: &quot;</span>, error.message());</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>                    MOSAIC_LOG_DEBUG(<span class="stringliteral">&quot;Successfully added ICE candidate&quot;</span>);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>                }</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            });</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>        }</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    }</div>
</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span> </div>
<div class="foldopen" id="foldopen00245" data-start="{" data-end="}">
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a7ee4f150fa95d6019230aadaeddcad9f">  245</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a7ee4f150fa95d6019230aadaeddcad9f">OnConnectionConnected</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;PeerConnectionManager::OnConnectionConnected()&quot;</span>);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="comment">// state manager will automatically notify signaling server about connected state</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326adbf24d775540915027b56df439103ff4">ConnectorStateManager::RTC_CONNECTED</a>);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    }</div>
</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span> </div>
<div class="foldopen" id="foldopen00251" data-start="{" data-end="}">
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae7bca56e7e4c66bb36635a0e3c957644">  251</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae7bca56e7e4c66bb36635a0e3c957644">OnConnectionDisconnected</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;PeerConnectionManager::OnConnectionDisconnected()&quot;</span>);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <span class="comment">// state manager will automatically notify signaling server about disconnected state</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a8c548143b4fb16ec78cefa0df6e3bad4">ConnectorStateManager::READY_TO_CONNECT</a>);</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>    }</div>
</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span> </div>
<div class="foldopen" id="foldopen00257" data-start="{" data-end="}">
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af25705454b078f7e344ab1b4efeddc9a">  257</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af25705454b078f7e344ab1b4efeddc9a">SendIceCandidate</a>(<span class="keyword">const</span> webrtc::IceCandidateInterface* candidate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>-&gt;SendIceCandidate(candidate);</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    }</div>
</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span> </div>
<div class="foldopen" id="foldopen00261" data-start="{" data-end="}">
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1a2c4331f3ad0f9fa79d01d46f5a1667">  261</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1a2c4331f3ad0f9fa79d01d46f5a1667">StopSignalingServer</a>() {</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>-&gt;Stop();</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        }</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    }</div>
</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="foldopen" id="foldopen00268" data-start="{" data-end="}">
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a0496d51cab6173f380d94ef68a7fef5c">  268</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a0496d51cab6173f380d94ef68a7fef5c">ClosePeerConnection</a>() {</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;IsState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326adbf24d775540915027b56df439103ff4">ConnectorStateManager::RTC_CONNECTED</a>)) {</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>            <span class="keywordflow">return</span>;  <span class="comment">// 연결 중이 아닌 경우 종료하지 않습니다.</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        }</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span> </div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>-&gt;SetState(<a class="code hl_enumvalue" href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326ab18642ded9d23896c96056dda64a9ce5">ConnectorStateManager::RTC_DISCONNECTING</a>);</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            <a class="code hl_define" href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a>(<span class="stringliteral">&quot;Closing Media Tracks and Data Channels...&quot;</span>);</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>-&gt;CloseAllMediaTracks();</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>-&gt;CloseAllDataChannels();</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            <a class="code hl_define" href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a>(<span class="stringliteral">&quot;Closing Peer Connection...&quot;</span>);</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>            <span class="comment">// 피어 연결 종료</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>) {</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;Close();</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>            }</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Exception caught: {}&quot;</span>, e.what());</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span> </div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        <span class="comment">// 연결 해제 알림</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae7bca56e7e4c66bb36635a0e3c957644">OnConnectionDisconnected</a>();</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>    }</div>
</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span> </div>
<div class="foldopen" id="foldopen00293" data-start="{" data-end="}">
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a386682781636c61821db2cba2e0bac69">  293</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a386682781636c61821db2cba2e0bac69">DestroyPeerConnectionManager</a>() {</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <a class="code hl_define" href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a>(<span class="stringliteral">&quot;Destroying Peer Connection, Observer and Factory...&quot;</span>);</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="comment">// finally 블록과 동일한 정리 작업</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">peer_connection_observer_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span> </div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>        <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>        <a class="code hl_define" href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a>(<span class="stringliteral">&quot;Destroying Threads...&quot;</span>);</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>        <span class="comment">// 아래 스레드 종료 및 파괴 작업은 peer_connection_factory 의 파괴 이후에 수행해야 합니다.</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a>) {</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a>-&gt;Stop();</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a>) {</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a>-&gt;Stop();</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        }</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a>) {</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a>-&gt;Stop();</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>            <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>        }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    }</div>
</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span> </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>  <span class="keyword">private</span>:</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">  318</a></span>    std::shared_ptr&lt;MosaicConnector&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">client_</a>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">  319</a></span>    std::shared_ptr&lt;ConnectorStateManager&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">state_manager_</a>;</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">  320</a></span>    std::shared_ptr&lt;ISignalingClient&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">signaling_client_</a>;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae852a3b2540a1b264dcb3f5edcdc9190">  321</a></span>    std::shared_ptr&lt;WebRtcConfig&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae852a3b2540a1b264dcb3f5edcdc9190">web_rtc_config_</a>;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span> </div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">  323</a></span>    webrtc::scoped_refptr&lt;webrtc::PeerConnectionFactoryInterface&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">  324</a></span>    webrtc::scoped_refptr&lt;webrtc::PeerConnectionInterface&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">  325</a></span>    std::shared_ptr&lt;webrtc::PeerConnectionObserver&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">peer_connection_observer_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a88a21589f49c77ea7eb3752b8e0d74e5">  327</a></span>    std::unique_ptr&lt;webrtc::TaskQueueFactory&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a88a21589f49c77ea7eb3752b8e0d74e5">task_queue_factory_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">  328</a></span>    std::unique_ptr&lt;rtc::Thread&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">network_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">  329</a></span>    std::unique_ptr&lt;rtc::Thread&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">worker_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">  330</a></span>    std::unique_ptr&lt;rtc::Thread&gt; <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">signaling_thread_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span> </div>
<div class="foldopen" id="foldopen00332" data-start="{" data-end="}">
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a59555cc116517d1cbe5ab116e934eb92">  332</a></span>    [[nodiscard]] webrtc::scoped_refptr&lt;webrtc::VideoTrackInterface&gt; <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a59555cc116517d1cbe5ab116e934eb92">CreateVideoTrack</a>(</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        <span class="keyword">const</span> webrtc::scoped_refptr&lt;webrtc::VideoTrackSourceInterface&gt;&amp; source,</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <span class="keyword">const</span> std::string&amp; label)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">peer_connection_factory_</a>-&gt;CreateVideoTrack(source, label);</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    }</div>
</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span> </div>
<div class="foldopen" id="foldopen00338" data-start="{" data-end="}">
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac1c33410b26e28132a37cb121177127d">  338</a></span>    [[nodiscard]] webrtc::scoped_refptr&lt;webrtc::RtpSenderInterface&gt; <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac1c33410b26e28132a37cb121177127d">AddTrack</a>(</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <span class="keyword">const</span> webrtc::scoped_refptr&lt;webrtc::MediaStreamTrackInterface&gt;&amp; track,</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>        <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; stream_ids)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        <span class="keyword">auto</span> add_track_result = <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">peer_connection_</a>-&gt;AddTrack(track, stream_ids);</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        <span class="keywordflow">if</span> (!add_track_result.ok()) {</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>            <a class="code hl_define" href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to add track: {}&quot;</span>, add_track_result.error().message());</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        }</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        <a class="code hl_define" href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a>(<span class="stringliteral">&quot;Track added successfully: {}&quot;</span>, track-&gt;id());</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">return</span> add_track_result.value();</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>    }</div>
</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span> </div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a929883d9a38a99cfae8dc1f0e75039c4">  350</a></span>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1PeerConnectionManager.html">PeerConnectionManager</a>;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a8a8493fcf7710f2af0cd7881e010987b">  351</a></span>    <span class="keyword">friend</span> <span class="keyword">class </span><a class="code hl_class" href="classmosaic_1_1core_1_1MosaicConnector.html">MosaicConnector</a>;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>};</div>
</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span> </div>
<div class="foldopen" id="foldopen00354" data-start="{" data-end="}">
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1223efb0cabc6db79e9aa6eb798a8414">  354</a></span><a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1223efb0cabc6db79e9aa6eb798a8414">PeerConnectionManager::PeerConnectionManager</a>(<span class="keyword">const</span> std::shared_ptr&lt;MosaicConnector&gt;&amp; client,</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>                                             <span class="keyword">const</span> std::shared_ptr&lt;ConnectorStateManager&gt;&amp; state_manager,</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>                                             <span class="keyword">const</span> std::shared_ptr&lt;ISignalingClient&gt;&amp; signaling_client,</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>                                             <span class="keyword">const</span> std::shared_ptr&lt;WebRtcConfig&gt;&amp; web_rtc_config) {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a> = std::make_shared&lt;Impl&gt;(client, state_manager, signaling_client, web_rtc_config);</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>}</div>
</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span> </div>
<div class="foldopen" id="foldopen00361" data-start="{" data-end="}">
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab7277c7dcce5af70d64adc8180723071">  361</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab7277c7dcce5af70d64adc8180723071">PeerConnectionManager::InitializeWebRTC</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;InitializeWebRTC();</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>}</div>
</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span> </div>
<div class="foldopen" id="foldopen00365" data-start="{" data-end="}">
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8fae247a4937762817adf491f5e77525">  365</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8fae247a4937762817adf491f5e77525">PeerConnectionManager::CreatePeerConnection</a>() {</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;CreatePeerConnection(shared_from_this());</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>}</div>
</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span> </div>
<div class="foldopen" id="foldopen00369" data-start="{" data-end="}">
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#abf0ce2f89d8792710ce87908d54af900">  369</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#abf0ce2f89d8792710ce87908d54af900">PeerConnectionManager::HandleSdpOffer</a>(webrtc::SessionDescriptionInterface* sdp_offer) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;HandleSdpOffer(sdp_offer, shared_from_this());</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>}</div>
</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span> </div>
<div class="foldopen" id="foldopen00373" data-start="{" data-end="}">
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a20576296c95edb2d55eea1821a4f23ca">  373</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a20576296c95edb2d55eea1821a4f23ca">PeerConnectionManager::AfterSetSessionDescription</a>() {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;AfterSetSessionDescription(shared_from_this());</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>}</div>
</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="foldopen" id="foldopen00377" data-start="{" data-end="}">
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#aa84525f2eaae3f113e5e334d0b4b39ce">  377</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#aa84525f2eaae3f113e5e334d0b4b39ce">PeerConnectionManager::AfterCreateSdpAnswer</a>(webrtc::SessionDescriptionInterface* desc) {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;AfterCreateSdpAnswer(desc, shared_from_this());</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>}</div>
</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span> </div>
<div class="foldopen" id="foldopen00381" data-start="{" data-end="}">
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ae57604e5571a2f2f85119b54e8bd7a9b">  381</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ae57604e5571a2f2f85119b54e8bd7a9b">PeerConnectionManager::AfterSetLocalDescription</a>(<span class="keyword">const</span> webrtc::SessionDescriptionInterface* desc)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;AfterSetLocalDescription(desc);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>}</div>
</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="foldopen" id="foldopen00385" data-start="{" data-end="}">
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a42133659d9e9b9030597bf83fed6fb05">  385</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a42133659d9e9b9030597bf83fed6fb05">PeerConnectionManager::HandleIceCandidateFromSignaling</a>(<span class="keyword">const</span> webrtc::IceCandidateInterface* candidate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;HandleIceCandidateFromSignaling(candidate);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>}</div>
</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span> </div>
<div class="foldopen" id="foldopen00389" data-start="{" data-end="}">
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a6a7c9771deb7e6f318c795bca2314ff6">  389</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a6a7c9771deb7e6f318c795bca2314ff6">PeerConnectionManager::OnConnectionConnected</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;OnConnectionConnected();</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>}</div>
</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="foldopen" id="foldopen00393" data-start="{" data-end="}">
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a924e20cf74a95ff8d856eb8ee462edb5">  393</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a924e20cf74a95ff8d856eb8ee462edb5">PeerConnectionManager::OnConnectionDisconnected</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;OnConnectionDisconnected();</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>}</div>
</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span> </div>
<div class="foldopen" id="foldopen00397" data-start="{" data-end="}">
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a48b37cd8db8bc022178ad633ce5cb5cc">  397</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a48b37cd8db8bc022178ad633ce5cb5cc">PeerConnectionManager::SendIceCandidate</a>(<span class="keyword">const</span> webrtc::IceCandidateInterface* candidate)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;SendIceCandidate(candidate);</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>}</div>
</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="foldopen" id="foldopen00401" data-start="{" data-end="}">
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a9189c49f459e55ae0a00278233a09e1d">  401</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a9189c49f459e55ae0a00278233a09e1d">PeerConnectionManager::StopSignalingServer</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;StopSignalingServer();</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>}</div>
</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="foldopen" id="foldopen00405" data-start="{" data-end="}">
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab0257b20b5cc2e5aa89993e364b31036">  405</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab0257b20b5cc2e5aa89993e364b31036">PeerConnectionManager::ClosePeerConnection</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;ClosePeerConnection();</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>}</div>
</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span> </div>
<div class="foldopen" id="foldopen00409" data-start="{" data-end="}">
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1ce50b9a057e1ae4b7232160c45e1105">  409</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1ce50b9a057e1ae4b7232160c45e1105">PeerConnectionManager::DestroyPeerConnectionManager</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>    <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;DestroyPeerConnectionManager();</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>}</div>
</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="foldopen" id="foldopen00413" data-start="{" data-end="}">
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ac27dc4e2af45aa28daab8081508e2c92">  413</a></span>webrtc::scoped_refptr&lt;webrtc::VideoTrackInterface&gt; <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#ac27dc4e2af45aa28daab8081508e2c92">PeerConnectionManager::CreateVideoTrack</a>(</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keyword">const</span> webrtc::scoped_refptr&lt;webrtc::VideoTrackSourceInterface&gt;&amp; source,</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    <span class="keyword">const</span> std::string&amp; label)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;CreateVideoTrack(source, label);</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>}</div>
</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span> </div>
<div class="foldopen" id="foldopen00419" data-start="{" data-end="}">
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8aff60ccf9a7ce639867f8488d3bc1f2">  419</a></span>webrtc::scoped_refptr&lt;webrtc::RtpSenderInterface&gt; <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8aff60ccf9a7ce639867f8488d3bc1f2">PeerConnectionManager::AddTrack</a>(</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="keyword">const</span> webrtc::scoped_refptr&lt;webrtc::MediaStreamTrackInterface&gt;&amp; track,</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; stream_ids)<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;AddTrack(track, stream_ids);</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>}</div>
</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="foldopen" id="foldopen00425" data-start="{" data-end="}">
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno"><a class="line" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a3b0f32bf8ac298f8eb0ff034f71bf3e1">  425</a></span>webrtc::scoped_refptr&lt;webrtc::PeerConnectionInterface&gt; <a class="code hl_function" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a3b0f32bf8ac298f8eb0ff034f71bf3e1">PeerConnectionManager::GetPeerConnection</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">pImpl</a>-&gt;peer_connection_;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>}</div>
</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="foldopen" id="foldopen00429" data-start="{" data-end="}">
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="namespacemosaic_1_1core.html#a8ef1c9cab0bca6a35a39fc5114cb98d3">  429</a></span>webrtc::PeerConnectionInterface::IceServer <a class="code hl_function" href="namespacemosaic_1_1core.html#a8ef1c9cab0bca6a35a39fc5114cb98d3">GetIceServer</a>(<span class="keyword">const</span> <a class="code hl_struct" href="structmosaic_1_1core_1_1IceServerConfig.html">IceServerConfig</a>&amp; ice_config) {</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    webrtc::PeerConnectionInterface::IceServer server;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="keywordflow">if</span> (ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a35de79d1afa269f552bf0e9cf9d5454a">urls</a>.empty() || ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a3e180773d1d8f1deb4b6e82d70abe67c">username</a>.empty() || ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a0de5a304a4c35d47720461f410a53632">credential</a>.empty()) {</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>        <span class="comment">// TODO</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>        <span class="keywordflow">return</span> server;  <span class="comment">// Return an empty IceServer</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    }</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <span class="comment">// Create an IceServer with the TURN URL, username, and credential</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; url : ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a35de79d1afa269f552bf0e9cf9d5454a">urls</a>) {</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        server.urls.push_back(<span class="stringliteral">&quot;turn:&quot;</span> + url);</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    }</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    server.username = ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a3e180773d1d8f1deb4b6e82d70abe67c">username</a>;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    server.password = ice_config.<a class="code hl_variable" href="structmosaic_1_1core_1_1IceServerConfig.html#a0de5a304a4c35d47720461f410a53632">credential</a>;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>    <span class="keywordflow">return</span> server;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>}</div>
</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>}  <span class="comment">// namespace mosaic::core</span></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1ConnectorStateManager_html_a7322ecc31c5b065c073c82addff5f326a0fbda9a0bbb9a00f4228d6d5ee96a647"><div class="ttname"><a href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a0fbda9a0bbb9a00f4228d6d5ee96a647">mosaic::core::ConnectorStateManager::RTC_CONNECTING</a></div><div class="ttdeci">@ RTC_CONNECTING</div><div class="ttdef"><b>Definition</b> <a href="connector__state__manager_8h_source.html#l00020">connector_state_manager.h:20</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1ConnectorStateManager_html_a7322ecc31c5b065c073c82addff5f326a7db37735e0e96e7730eaeb1da9f9523f"><div class="ttname"><a href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a7db37735e0e96e7730eaeb1da9f9523f">mosaic::core::ConnectorStateManager::RTC_FAILED</a></div><div class="ttdeci">@ RTC_FAILED</div><div class="ttdef"><b>Definition</b> <a href="connector__state__manager_8h_source.html#l00023">connector_state_manager.h:23</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1ConnectorStateManager_html_a7322ecc31c5b065c073c82addff5f326a8c548143b4fb16ec78cefa0df6e3bad4"><div class="ttname"><a href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326a8c548143b4fb16ec78cefa0df6e3bad4">mosaic::core::ConnectorStateManager::READY_TO_CONNECT</a></div><div class="ttdeci">@ READY_TO_CONNECT</div><div class="ttdef"><b>Definition</b> <a href="connector__state__manager_8h_source.html#l00019">connector_state_manager.h:19</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1ConnectorStateManager_html_a7322ecc31c5b065c073c82addff5f326ab18642ded9d23896c96056dda64a9ce5"><div class="ttname"><a href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326ab18642ded9d23896c96056dda64a9ce5">mosaic::core::ConnectorStateManager::RTC_DISCONNECTING</a></div><div class="ttdeci">@ RTC_DISCONNECTING</div><div class="ttdef"><b>Definition</b> <a href="connector__state__manager_8h_source.html#l00022">connector_state_manager.h:22</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1ConnectorStateManager_html_a7322ecc31c5b065c073c82addff5f326adbf24d775540915027b56df439103ff4"><div class="ttname"><a href="classmosaic_1_1core_1_1ConnectorStateManager.html#a7322ecc31c5b065c073c82addff5f326adbf24d775540915027b56df439103ff4">mosaic::core::ConnectorStateManager::RTC_CONNECTED</a></div><div class="ttdeci">@ RTC_CONNECTED</div><div class="ttdef"><b>Definition</b> <a href="connector__state__manager_8h_source.html#l00021">connector_state_manager.h:21</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1CreateSdpAnswerObserver_html"><div class="ttname"><a href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html">mosaic::core::CreateSdpAnswerObserver</a></div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00030">peer_connection_manager.cpp:30</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1CreateSdpAnswerObserver_html_a54dfe7939caff7ca39dcedfae4590eca"><div class="ttname"><a href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a54dfe7939caff7ca39dcedfae4590eca">mosaic::core::CreateSdpAnswerObserver::pc_manager_</a></div><div class="ttdeci">std::shared_ptr&lt; PeerConnectionManager &gt; pc_manager_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00044">peer_connection_manager.cpp:44</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1CreateSdpAnswerObserver_html_a6b4eef7969b1b4397b48f8f1f635fd0a"><div class="ttname"><a href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a6b4eef7969b1b4397b48f8f1f635fd0a">mosaic::core::CreateSdpAnswerObserver::CreateSdpAnswerObserver</a></div><div class="ttdeci">CreateSdpAnswerObserver(const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;pc_manager)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00032">peer_connection_manager.cpp:32</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1CreateSdpAnswerObserver_html_a78f9788ed42617beba844080bbd3ba26"><div class="ttname"><a href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a78f9788ed42617beba844080bbd3ba26">mosaic::core::CreateSdpAnswerObserver::OnFailure</a></div><div class="ttdeci">void OnFailure(webrtc::RTCError error) override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00039">peer_connection_manager.cpp:39</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1CreateSdpAnswerObserver_html_a7f01f4865cae5d0b46bd12873263d6e9"><div class="ttname"><a href="classmosaic_1_1core_1_1CreateSdpAnswerObserver.html#a7f01f4865cae5d0b46bd12873263d6e9">mosaic::core::CreateSdpAnswerObserver::OnSuccess</a></div><div class="ttdeci">void OnSuccess(webrtc::SessionDescriptionInterface *desc) override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00035">peer_connection_manager.cpp:35</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1MosaicConnector_html"><div class="ttname"><a href="classmosaic_1_1core_1_1MosaicConnector.html">mosaic::core::MosaicConnector</a></div><div class="ttdef"><b>Definition</b> <a href="mosaic__connector_8h_source.html#l00027">mosaic_connector.h:27</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html">mosaic::core::PeerConnectionManager::Impl</a></div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00088">peer_connection_manager.cpp:88</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a01838c16abd001da697d6810cfb15d37"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a01838c16abd001da697d6810cfb15d37">mosaic::core::PeerConnectionManager::Impl::AfterSetSessionDescription</a></div><div class="ttdeci">void AfterSetSessionDescription(const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;outer_this_) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00198">peer_connection_manager.cpp:198</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a0496d51cab6173f380d94ef68a7fef5c"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a0496d51cab6173f380d94ef68a7fef5c">mosaic::core::PeerConnectionManager::Impl::ClosePeerConnection</a></div><div class="ttdeci">void ClosePeerConnection()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00268">peer_connection_manager.cpp:268</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a106eeb764f1fd278f43b37854b1d6781"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a106eeb764f1fd278f43b37854b1d6781">mosaic::core::PeerConnectionManager::Impl::network_thread_</a></div><div class="ttdeci">std::unique_ptr&lt; rtc::Thread &gt; network_thread_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00328">peer_connection_manager.cpp:328</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a153c4fee9b56df7a261bf8ba5214c7aa"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a153c4fee9b56df7a261bf8ba5214c7aa">mosaic::core::PeerConnectionManager::Impl::worker_thread_</a></div><div class="ttdeci">std::unique_ptr&lt; rtc::Thread &gt; worker_thread_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00329">peer_connection_manager.cpp:329</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a1a2c4331f3ad0f9fa79d01d46f5a1667"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1a2c4331f3ad0f9fa79d01d46f5a1667">mosaic::core::PeerConnectionManager::Impl::StopSignalingServer</a></div><div class="ttdeci">void StopSignalingServer()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00261">peer_connection_manager.cpp:261</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a1e34578cfc76c3428d2c4820d40f54ee"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a1e34578cfc76c3428d2c4820d40f54ee">mosaic::core::PeerConnectionManager::Impl::peer_connection_observer_</a></div><div class="ttdeci">std::shared_ptr&lt; webrtc::PeerConnectionObserver &gt; peer_connection_observer_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00325">peer_connection_manager.cpp:325</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a298c1d0085f853453fc708702355bbcf"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a298c1d0085f853453fc708702355bbcf">mosaic::core::PeerConnectionManager::Impl::CreatePeerConnection</a></div><div class="ttdeci">void CreatePeerConnection(const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;outer_this_)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00141">peer_connection_manager.cpp:141</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a386682781636c61821db2cba2e0bac69"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a386682781636c61821db2cba2e0bac69">mosaic::core::PeerConnectionManager::Impl::DestroyPeerConnectionManager</a></div><div class="ttdeci">void DestroyPeerConnectionManager()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00293">peer_connection_manager.cpp:293</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a3d2f8b70761591a5f3e3260390d8885c"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a3d2f8b70761591a5f3e3260390d8885c">mosaic::core::PeerConnectionManager::Impl::InitializeWebRTC</a></div><div class="ttdeci">void InitializeWebRTC()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00099">peer_connection_manager.cpp:99</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a49e9a2f616bce7bbd98b0c21eee0560f"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a49e9a2f616bce7bbd98b0c21eee0560f">mosaic::core::PeerConnectionManager::Impl::Impl</a></div><div class="ttdeci">Impl(const std::shared_ptr&lt; MosaicConnector &gt; &amp;client, const std::shared_ptr&lt; ConnectorStateManager &gt; &amp;state_manager, const std::shared_ptr&lt; ISignalingClient &gt; &amp;signaling_client, const std::shared_ptr&lt; WebRtcConfig &gt; &amp;web_rtc_config)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00090">peer_connection_manager.cpp:90</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a527c51aa129ceb6c0c99f4408ad6bae1"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a527c51aa129ceb6c0c99f4408ad6bae1">mosaic::core::PeerConnectionManager::Impl::HandleSdpOffer</a></div><div class="ttdeci">void HandleSdpOffer(webrtc::SessionDescriptionInterface *sdp_offer, const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;outer_this_)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00165">peer_connection_manager.cpp:165</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a59555cc116517d1cbe5ab116e934eb92"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a59555cc116517d1cbe5ab116e934eb92">mosaic::core::PeerConnectionManager::Impl::CreateVideoTrack</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::VideoTrackInterface &gt; CreateVideoTrack(const webrtc::scoped_refptr&lt; webrtc::VideoTrackSourceInterface &gt; &amp;source, const std::string &amp;label) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00332">peer_connection_manager.cpp:332</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a7ee4f150fa95d6019230aadaeddcad9f"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a7ee4f150fa95d6019230aadaeddcad9f">mosaic::core::PeerConnectionManager::Impl::OnConnectionConnected</a></div><div class="ttdeci">void OnConnectionConnected() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00245">peer_connection_manager.cpp:245</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a83800b8d25c95a6b966c7b5aad853d26"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a83800b8d25c95a6b966c7b5aad853d26">mosaic::core::PeerConnectionManager::Impl::signaling_thread_</a></div><div class="ttdeci">std::unique_ptr&lt; rtc::Thread &gt; signaling_thread_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00330">peer_connection_manager.cpp:330</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a88a21589f49c77ea7eb3752b8e0d74e5"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a88a21589f49c77ea7eb3752b8e0d74e5">mosaic::core::PeerConnectionManager::Impl::task_queue_factory_</a></div><div class="ttdeci">std::unique_ptr&lt; webrtc::TaskQueueFactory &gt; task_queue_factory_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00327">peer_connection_manager.cpp:327</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a98c24b8cfb7309c99de254c9eadc5207"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a98c24b8cfb7309c99de254c9eadc5207">mosaic::core::PeerConnectionManager::Impl::peer_connection_</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::PeerConnectionInterface &gt; peer_connection_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00324">peer_connection_manager.cpp:324</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_a9e151da391b0721ea21d790edf7d9d6b"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#a9e151da391b0721ea21d790edf7d9d6b">mosaic::core::PeerConnectionManager::Impl::AfterSetLocalDescription</a></div><div class="ttdeci">void AfterSetLocalDescription(const webrtc::SessionDescriptionInterface *desc) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00223">peer_connection_manager.cpp:223</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_aae4b44b8e054461f70d28fac713a06bb"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#aae4b44b8e054461f70d28fac713a06bb">mosaic::core::PeerConnectionManager::Impl::signaling_client_</a></div><div class="ttdeci">std::shared_ptr&lt; ISignalingClient &gt; signaling_client_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00320">peer_connection_manager.cpp:320</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_ac1c33410b26e28132a37cb121177127d"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac1c33410b26e28132a37cb121177127d">mosaic::core::PeerConnectionManager::Impl::AddTrack</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::RtpSenderInterface &gt; AddTrack(const webrtc::scoped_refptr&lt; webrtc::MediaStreamTrackInterface &gt; &amp;track, const std::vector&lt; std::string &gt; &amp;stream_ids) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00338">peer_connection_manager.cpp:338</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_ac7ecb4836ef7797ae785daf6e6073093"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ac7ecb4836ef7797ae785daf6e6073093">mosaic::core::PeerConnectionManager::Impl::AfterCreateSdpAnswer</a></div><div class="ttdeci">void AfterCreateSdpAnswer(webrtc::SessionDescriptionInterface *desc, const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;outer_this_) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00212">peer_connection_manager.cpp:212</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_acb1b27aa010b6108accf4db645b7d86c"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#acb1b27aa010b6108accf4db645b7d86c">mosaic::core::PeerConnectionManager::Impl::client_</a></div><div class="ttdeci">std::shared_ptr&lt; MosaicConnector &gt; client_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00318">peer_connection_manager.cpp:318</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_ad3146db6b5e77b17361c3d7f1e039fa2"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ad3146db6b5e77b17361c3d7f1e039fa2">mosaic::core::PeerConnectionManager::Impl::state_manager_</a></div><div class="ttdeci">std::shared_ptr&lt; ConnectorStateManager &gt; state_manager_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00319">peer_connection_manager.cpp:319</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_adfad830f00b8e9a4811ded0faec5dc3a"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#adfad830f00b8e9a4811ded0faec5dc3a">mosaic::core::PeerConnectionManager::Impl::peer_connection_factory_</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::PeerConnectionFactoryInterface &gt; peer_connection_factory_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00323">peer_connection_manager.cpp:323</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_ae7bca56e7e4c66bb36635a0e3c957644"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae7bca56e7e4c66bb36635a0e3c957644">mosaic::core::PeerConnectionManager::Impl::OnConnectionDisconnected</a></div><div class="ttdeci">void OnConnectionDisconnected() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00251">peer_connection_manager.cpp:251</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_ae852a3b2540a1b264dcb3f5edcdc9190"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#ae852a3b2540a1b264dcb3f5edcdc9190">mosaic::core::PeerConnectionManager::Impl::web_rtc_config_</a></div><div class="ttdeci">std::shared_ptr&lt; WebRtcConfig &gt; web_rtc_config_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00321">peer_connection_manager.cpp:321</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_af25705454b078f7e344ab1b4efeddc9a"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af25705454b078f7e344ab1b4efeddc9a">mosaic::core::PeerConnectionManager::Impl::SendIceCandidate</a></div><div class="ttdeci">void SendIceCandidate(const webrtc::IceCandidateInterface *candidate) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00257">peer_connection_manager.cpp:257</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_1_1Impl_html_af37677aa16c3caf6cb4eb3a2c19d746e"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager_1_1Impl.html#af37677aa16c3caf6cb4eb3a2c19d746e">mosaic::core::PeerConnectionManager::Impl::HandleIceCandidateFromSignaling</a></div><div class="ttdeci">void HandleIceCandidateFromSignaling(const webrtc::IceCandidateInterface *candidate) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00228">peer_connection_manager.cpp:228</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html">mosaic::core::PeerConnectionManager</a></div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8h_source.html#l00021">peer_connection_manager.h:21</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a1223efb0cabc6db79e9aa6eb798a8414"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1223efb0cabc6db79e9aa6eb798a8414">mosaic::core::PeerConnectionManager::PeerConnectionManager</a></div><div class="ttdeci">PeerConnectionManager(const std::shared_ptr&lt; MosaicConnector &gt; &amp;client, const std::shared_ptr&lt; ConnectorStateManager &gt; &amp;state_manager, const std::shared_ptr&lt; ISignalingClient &gt; &amp;signaling_client, const std::shared_ptr&lt; WebRtcConfig &gt; &amp;web_rtc_config)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00354">peer_connection_manager.cpp:354</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a1ce50b9a057e1ae4b7232160c45e1105"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a1ce50b9a057e1ae4b7232160c45e1105">mosaic::core::PeerConnectionManager::DestroyPeerConnectionManager</a></div><div class="ttdeci">void DestroyPeerConnectionManager() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00409">peer_connection_manager.cpp:409</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a20576296c95edb2d55eea1821a4f23ca"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a20576296c95edb2d55eea1821a4f23ca">mosaic::core::PeerConnectionManager::AfterSetSessionDescription</a></div><div class="ttdeci">void AfterSetSessionDescription()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00373">peer_connection_manager.cpp:373</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a3b0f32bf8ac298f8eb0ff034f71bf3e1"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a3b0f32bf8ac298f8eb0ff034f71bf3e1">mosaic::core::PeerConnectionManager::GetPeerConnection</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::PeerConnectionInterface &gt; GetPeerConnection() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00425">peer_connection_manager.cpp:425</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a42133659d9e9b9030597bf83fed6fb05"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a42133659d9e9b9030597bf83fed6fb05">mosaic::core::PeerConnectionManager::HandleIceCandidateFromSignaling</a></div><div class="ttdeci">void HandleIceCandidateFromSignaling(const webrtc::IceCandidateInterface *candidate) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00385">peer_connection_manager.cpp:385</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a48b37cd8db8bc022178ad633ce5cb5cc"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a48b37cd8db8bc022178ad633ce5cb5cc">mosaic::core::PeerConnectionManager::SendIceCandidate</a></div><div class="ttdeci">void SendIceCandidate(const webrtc::IceCandidateInterface *candidate) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00397">peer_connection_manager.cpp:397</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a54414fb6b13657765a5cc65d91b66598"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a54414fb6b13657765a5cc65d91b66598">mosaic::core::PeerConnectionManager::pImpl</a></div><div class="ttdeci">std::shared_ptr&lt; Impl &gt; pImpl</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8h_source.html#l00056">peer_connection_manager.h:56</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a6a7c9771deb7e6f318c795bca2314ff6"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a6a7c9771deb7e6f318c795bca2314ff6">mosaic::core::PeerConnectionManager::OnConnectionConnected</a></div><div class="ttdeci">void OnConnectionConnected() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00389">peer_connection_manager.cpp:389</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a8aff60ccf9a7ce639867f8488d3bc1f2"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8aff60ccf9a7ce639867f8488d3bc1f2">mosaic::core::PeerConnectionManager::AddTrack</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::RtpSenderInterface &gt; AddTrack(const webrtc::scoped_refptr&lt; webrtc::MediaStreamTrackInterface &gt; &amp;track, const std::vector&lt; std::string &gt; &amp;stream_ids) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00419">peer_connection_manager.cpp:419</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a8fae247a4937762817adf491f5e77525"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a8fae247a4937762817adf491f5e77525">mosaic::core::PeerConnectionManager::CreatePeerConnection</a></div><div class="ttdeci">void CreatePeerConnection()</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00365">peer_connection_manager.cpp:365</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a9189c49f459e55ae0a00278233a09e1d"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a9189c49f459e55ae0a00278233a09e1d">mosaic::core::PeerConnectionManager::StopSignalingServer</a></div><div class="ttdeci">void StopSignalingServer() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00401">peer_connection_manager.cpp:401</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_a924e20cf74a95ff8d856eb8ee462edb5"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#a924e20cf74a95ff8d856eb8ee462edb5">mosaic::core::PeerConnectionManager::OnConnectionDisconnected</a></div><div class="ttdeci">void OnConnectionDisconnected() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00393">peer_connection_manager.cpp:393</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_aa84525f2eaae3f113e5e334d0b4b39ce"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#aa84525f2eaae3f113e5e334d0b4b39ce">mosaic::core::PeerConnectionManager::AfterCreateSdpAnswer</a></div><div class="ttdeci">void AfterCreateSdpAnswer(webrtc::SessionDescriptionInterface *desc)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00377">peer_connection_manager.cpp:377</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_ab0257b20b5cc2e5aa89993e364b31036"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab0257b20b5cc2e5aa89993e364b31036">mosaic::core::PeerConnectionManager::ClosePeerConnection</a></div><div class="ttdeci">void ClosePeerConnection() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00405">peer_connection_manager.cpp:405</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_ab7277c7dcce5af70d64adc8180723071"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#ab7277c7dcce5af70d64adc8180723071">mosaic::core::PeerConnectionManager::InitializeWebRTC</a></div><div class="ttdeci">void InitializeWebRTC() const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00361">peer_connection_manager.cpp:361</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_abf0ce2f89d8792710ce87908d54af900"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#abf0ce2f89d8792710ce87908d54af900">mosaic::core::PeerConnectionManager::HandleSdpOffer</a></div><div class="ttdeci">void HandleSdpOffer(webrtc::SessionDescriptionInterface *sdp_offer)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00369">peer_connection_manager.cpp:369</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_ac27dc4e2af45aa28daab8081508e2c92"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#ac27dc4e2af45aa28daab8081508e2c92">mosaic::core::PeerConnectionManager::CreateVideoTrack</a></div><div class="ttdeci">webrtc::scoped_refptr&lt; webrtc::VideoTrackInterface &gt; CreateVideoTrack(const webrtc::scoped_refptr&lt; webrtc::VideoTrackSourceInterface &gt; &amp;source, const std::string &amp;label) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00413">peer_connection_manager.cpp:413</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1PeerConnectionManager_html_ae57604e5571a2f2f85119b54e8bd7a9b"><div class="ttname"><a href="classmosaic_1_1core_1_1PeerConnectionManager.html#ae57604e5571a2f2f85119b54e8bd7a9b">mosaic::core::PeerConnectionManager::AfterSetLocalDescription</a></div><div class="ttdeci">void AfterSetLocalDescription(const webrtc::SessionDescriptionInterface *desc) const</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00381">peer_connection_manager.cpp:381</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html">mosaic::core::SimpleSetLocalDescriptionObserver</a></div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00047">peer_connection_manager.cpp:47</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html_a26410e9e501afab0fcdb6c6c53bd5c13"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a26410e9e501afab0fcdb6c6c53bd5c13">mosaic::core::SimpleSetLocalDescriptionObserver::pc_manager_</a></div><div class="ttdeci">std::shared_ptr&lt; PeerConnectionManager &gt; pc_manager_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00066">peer_connection_manager.cpp:66</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html_a58c9b40f89b7e9e62f015fed6d356d23"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a58c9b40f89b7e9e62f015fed6d356d23">mosaic::core::SimpleSetLocalDescriptionObserver::desc_</a></div><div class="ttdeci">webrtc::SessionDescriptionInterface * desc_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00067">peer_connection_manager.cpp:67</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html_a8ac4b5eae01e33f545bc857f478cf97e"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#a8ac4b5eae01e33f545bc857f478cf97e">mosaic::core::SimpleSetLocalDescriptionObserver::SimpleSetLocalDescriptionObserver</a></div><div class="ttdeci">SimpleSetLocalDescriptionObserver(const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;pc_manager, webrtc::SessionDescriptionInterface *desc)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00049">peer_connection_manager.cpp:49</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html_aa8a53783b8c76f562b86146d6559cf67"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#aa8a53783b8c76f562b86146d6559cf67">mosaic::core::SimpleSetLocalDescriptionObserver::OnSuccess</a></div><div class="ttdeci">void OnSuccess() override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00053">peer_connection_manager.cpp:53</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver_html_ab7e8670ab0ae07065e4ddfc061d337bf"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetLocalDescriptionObserver.html#ab7e8670ab0ae07065e4ddfc061d337bf">mosaic::core::SimpleSetLocalDescriptionObserver::OnFailure</a></div><div class="ttdeci">void OnFailure(webrtc::RTCError error) override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00061">peer_connection_manager.cpp:61</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver_html"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html">mosaic::core::SimpleSetRemoteDescriptionObserver</a></div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00070">peer_connection_manager.cpp:70</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver_html_a8ec0bf26bd5ca840ff511449613ee830"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a8ec0bf26bd5ca840ff511449613ee830">mosaic::core::SimpleSetRemoteDescriptionObserver::SimpleSetRemoteDescriptionObserver</a></div><div class="ttdeci">SimpleSetRemoteDescriptionObserver(const std::shared_ptr&lt; PeerConnectionManager &gt; &amp;pc_manager)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00072">peer_connection_manager.cpp:72</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver_html_a986b8a078964a0c060cb135806181f70"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#a986b8a078964a0c060cb135806181f70">mosaic::core::SimpleSetRemoteDescriptionObserver::OnFailure</a></div><div class="ttdeci">void OnFailure(const webrtc::RTCError error) override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00080">peer_connection_manager.cpp:80</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver_html_aa72438d4e15d030c92bcff74afe4df07"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#aa72438d4e15d030c92bcff74afe4df07">mosaic::core::SimpleSetRemoteDescriptionObserver::pc_manager_</a></div><div class="ttdeci">std::shared_ptr&lt; PeerConnectionManager &gt; pc_manager_</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00085">peer_connection_manager.cpp:85</a></div></div>
<div class="ttc" id="aclassmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver_html_ac2f616220bf722c0ad9a850d1231e348"><div class="ttname"><a href="classmosaic_1_1core_1_1SimpleSetRemoteDescriptionObserver.html#ac2f616220bf722c0ad9a850d1231e348">mosaic::core::SimpleSetRemoteDescriptionObserver::OnSuccess</a></div><div class="ttdeci">void OnSuccess() override</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00075">peer_connection_manager.cpp:75</a></div></div>
<div class="ttc" id="aconfigs__decl_8h_html"><div class="ttname"><a href="configs__decl_8h.html">configs_decl.h</a></div></div>
<div class="ttc" id="aconnector__state__manager_8h_html"><div class="ttname"><a href="connector__state__manager_8h.html">connector_state_manager.h</a></div></div>
<div class="ttc" id="ai__signaling__client_8h_html"><div class="ttname"><a href="i__signaling__client_8h.html">i_signaling_client.h</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="alog_8h_html_a2ebf0e25bfb5a64dd343f1002f95e86f"><div class="ttname"><a href="log_8h.html#a2ebf0e25bfb5a64dd343f1002f95e86f">MOSAIC_LOG_DEBUG</a></div><div class="ttdeci">#define MOSAIC_LOG_DEBUG(...)</div><div class="ttdef"><b>Definition</b> <a href="log_8h_source.html#l00012">log.h:12</a></div></div>
<div class="ttc" id="alog_8h_html_a3e2a3e1c63f7dbb89536b257cc489504"><div class="ttname"><a href="log_8h.html#a3e2a3e1c63f7dbb89536b257cc489504">MOSAIC_LOG_INFO</a></div><div class="ttdeci">#define MOSAIC_LOG_INFO(...)</div><div class="ttdef"><b>Definition</b> <a href="log_8h_source.html#l00016">log.h:16</a></div></div>
<div class="ttc" id="alog_8h_html_ad91b537c72caf03b8287f79e5b649959"><div class="ttname"><a href="log_8h.html#ad91b537c72caf03b8287f79e5b649959">MOSAIC_LOG_ERROR</a></div><div class="ttdeci">#define MOSAIC_LOG_ERROR(...)</div><div class="ttdef"><b>Definition</b> <a href="log_8h_source.html#l00018">log.h:18</a></div></div>
<div class="ttc" id="anamespacemosaic_1_1core_html"><div class="ttname"><a href="namespacemosaic_1_1core.html">mosaic::core</a></div><div class="ttdef"><b>Definition</b> <a href="configs__decl_8h_source.html#l00012">configs_decl.h:12</a></div></div>
<div class="ttc" id="anamespacemosaic_1_1core_html_a8ef1c9cab0bca6a35a39fc5114cb98d3"><div class="ttname"><a href="namespacemosaic_1_1core.html#a8ef1c9cab0bca6a35a39fc5114cb98d3">mosaic::core::GetIceServer</a></div><div class="ttdeci">webrtc::PeerConnectionInterface::IceServer GetIceServer(const IceServerConfig &amp;ice_config)</div><div class="ttdef"><b>Definition</b> <a href="peer__connection__manager_8cpp_source.html#l00429">peer_connection_manager.cpp:429</a></div></div>
<div class="ttc" id="apeer__connection__manager_8h_html"><div class="ttname"><a href="peer__connection__manager_8h.html">peer_connection_manager.h</a></div></div>
<div class="ttc" id="apeer__connection__observer_8h_html"><div class="ttname"><a href="peer__connection__observer_8h.html">peer_connection_observer.h</a></div></div>
<div class="ttc" id="astructmosaic_1_1core_1_1IceServerConfig_html"><div class="ttname"><a href="structmosaic_1_1core_1_1IceServerConfig.html">mosaic::core::IceServerConfig</a></div><div class="ttdef"><b>Definition</b> <a href="configs__decl_8h_source.html#l00013">configs_decl.h:13</a></div></div>
<div class="ttc" id="astructmosaic_1_1core_1_1IceServerConfig_html_a0de5a304a4c35d47720461f410a53632"><div class="ttname"><a href="structmosaic_1_1core_1_1IceServerConfig.html#a0de5a304a4c35d47720461f410a53632">mosaic::core::IceServerConfig::credential</a></div><div class="ttdeci">std::string credential</div><div class="ttdef"><b>Definition</b> <a href="configs__decl_8h_source.html#l00016">configs_decl.h:16</a></div></div>
<div class="ttc" id="astructmosaic_1_1core_1_1IceServerConfig_html_a35de79d1afa269f552bf0e9cf9d5454a"><div class="ttname"><a href="structmosaic_1_1core_1_1IceServerConfig.html#a35de79d1afa269f552bf0e9cf9d5454a">mosaic::core::IceServerConfig::urls</a></div><div class="ttdeci">std::vector&lt; std::string &gt; urls</div><div class="ttdef"><b>Definition</b> <a href="configs__decl_8h_source.html#l00014">configs_decl.h:14</a></div></div>
<div class="ttc" id="astructmosaic_1_1core_1_1IceServerConfig_html_a3e180773d1d8f1deb4b6e82d70abe67c"><div class="ttname"><a href="structmosaic_1_1core_1_1IceServerConfig.html#a3e180773d1d8f1deb4b6e82d70abe67c">mosaic::core::IceServerConfig::username</a></div><div class="ttdeci">std::string username</div><div class="ttdef"><b>Definition</b> <a href="configs__decl_8h_source.html#l00015">configs_decl.h:15</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="peer__connection__manager_8cpp.html">peer_connection_manager.cpp</a></li>
    <li class="footer">Generated on Sat Feb 14 2026 13:38:02 for MOSAIC RTC Core by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
